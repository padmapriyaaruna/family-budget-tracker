def show_login_page():
    """Display login page with separate tabs for different user types"""
    st.title("ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Family Budget Tracker")
    st.caption("Multi-Family Budget Management System")
    
    tab1, tab2, tab3, tab4 = st.tabs([
        "ğŸ”± Super Admin Login", 
        "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Family Admin Login", 
        "ğŸ‘¤ Member Login",
        "ğŸ”‘ Setup Password"
    ])
    
    # TAB 1: Super Admin Login
    with tab1:
        st.subheader("ğŸ”± Super Admin Login")
        st.info("For system administrators only. Manage multiple families and users.")
        
        with st.form("superadmin_login_form"):
            st.markdown("**Default Credentials:**")
            st.code("Email: superadmin\nPassword: superuser")
            
            super_email = st.text_input("Email", value="superadmin", key="super_email")
            super_password = st.text_input("Password", type="password", key="super_password")
            super_submit = st.form_submit_button("Login as Super Admin", use_container_width=True)
            
            if super_submit:
                if super_email and super_password:
                    success, user_data = db.authenticate_user(super_email, super_password)
                    if success and user_data.get('role') == 'superadmin':
                        st.session_state.logged_in = True
                        st.session_state.user = user_data
                        st.success(f"Welcome, {user_data['full_name']}!")
                        st.rerun()
                    else:
                        st.error("Invalid super admin credentials or account not found")
                else:
                    st.error("Please enter both email and password")
    
    # TAB 2: Family Admin Login
    with tab2:
        st.subheader("ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ Family Admin Login")
        st.info("Login to manage your family household. Contact super admin if you don't have an account.")
        
        with st.form("admin_login_form"):
            admin_email = st.text_input("Email", placeholder="your.email@example.com", key="admin_email")
            admin_password = st.text_input("Password", type="password", key="admin_password")
            admin_submit = st.form_submit_button("Login as Family Admin", use_container_width=True)
            
            if admin_submit:
                if admin_email and admin_password:
                    success, user_data = db.authenticate_user(admin_email, admin_password)
                    if success and user_data.get('role') == 'admin':
                        st.session_state.logged_in = True
                        st.session_state.user = user_data
                        st.success(f"Welcome, {user_data['full_name']}!")
                        st.rerun()
                    else:
                        st.error("Invalid credentials or not a family admin account")
                else:
                    st.error("Please enter both email and password")
    
    # TAB 3: Member Login
    with tab3:
        st.subheader("ğŸ‘¤ Family Member Login")
        st.info("Login to track your personal expenses. Use the invite token to set up your account first.")
        
        with st.form("member_login_form"):
            member_email = st.text_input("Email", placeholder="your.email@example.com", key="member_email")
            member_password = st.text_input("Password", type="password", key="member_password")
            member_submit = st.form_submit_button("Login as Member", use_container_width=True)
            
            if member_submit:
                if member_email and member_password:
                    success, user_data = db.authenticate_user(member_email, member_password)
                    if success and user_data.get('role') == 'member':
                        st.session_state.logged_in = True
                        st.session_state.user = user_data
                        st.success(f"Welcome, {user_data['full_name']}!")
                        st.rerun()
                    else:
                        st.error("Invalid credentials or not a member account")
                else:
                    st.error("Please enter both email and password")
    
    # TAB 4: Setup Password (for new members)
    with tab4:
        st.subheader("ğŸ”‘ Setup Your Password")
        st.info("If you were invited as a family member, use your invite token to set up your password")
        
        with st.form("password_setup_form"):
            invite_token = st.text_input("Invite Token", placeholder="Paste the token shared by your family admin")
            new_password = st.text_input("New Password", type="password")
            confirm_new_password = st.text_input("Confirm Password", type="password")
            
            submit_password = st.form_submit_button("Set Password", use_container_width=True)
            
            if submit_password:
                if not all([invite_token, new_password, confirm_new_password]):
                    st.error("Please fill all fields")
                elif new_password != confirm_new_password:
                    st.error("Passwords do not match")
                elif len(new_password) < 6:
                    st.error("Password must be at least 6 characters")
                else:
                    success, message = db.accept_invite(invite_token, new_password)
                    if success:
                        st.success(f"âœ… {message}")
                        st.info("You can now login with your email using the 'Member Login' tab!")
                    else:
                        st.error(f"âŒ {message}")
